<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="google" content="notranslate" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <title>PRONOSTICI INDIAN WELLS OPEN 2025</title>
    <link
      rel="stylesheet"
      href="css/australian-open-2025-pronostico.css?v=1.0"
    />
    <link rel="stylesheet" href="css/hamburger.css?v=1.0" />
  </head>
  <body>
    <header>
      <div class="hamburger-menu">
        <button class="menu-toggle" aria-label="Toggle menu">☰</button>
        <nav class="menu">
          <ul>
            <li><a href="#" data-source="0">Pronostici</a></li>
            <li><a href="#" data-source="1">Primo turno</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <h1>ПРОГНОЗЫ НА ИНДИАН-УЭЛЛС НА 2025 ГОД</h1>
    <div class="column-container" id="columns"></div>
    <script type="module">
      // Importa la funzione per costruire la tabella
      import { creaColonne } from "./js/funzioni_turni.js";
      import { predictions } from "./js/predictionsTurni.js";
      // Seleziona gli elementi del menu e associa eventi click
      const menuToggle = document.querySelector(".menu-toggle");
      const menu = document.querySelector(".menu");
      const menuLinks = document.querySelectorAll(".menu a");
      const titleElement = document.querySelector("h1"); // Seleziona l'h1

      menuLinks.forEach((link) => {
        link.addEventListener("click", async (event) => {
          event.preventDefault(); // Evita il comportamento predefinito del link

          // Ottieni il file di dati specificato nell'attributo data-source

          try {
            // Importa dinamicamente i dati
            // const { predictions: newData } = await import(`./${dataSource}`);

            // Chiama la funzione creaColonne con i nuovi dati
            const columnContainer = document.getElementById("columns");
            columnContainer.innerHTML = ""; // Resetta le colonne esistenti
            creaColonne("1", predictions);

            // Modifica il contenuto dell'h1 con il testo dell'opzione selezionata
            const selectedOptionText = event.target.textContent; // Testo dell'opzione
            titleElement.textContent = `${selectedOptionText.toUpperCase()} INDIAN WELLS 2025`;

            // Chiudi il menu
            menu.classList.remove("open");
          } catch (error) {
            console.error("Errore durante l'importazione dei dati:", error);
          }
        });
      });

      // Toggle del menu
      menuToggle.addEventListener("click", () => {
        menu.classList.toggle("open");
      });

      // Simula il clic sull'ultima opzione del menu al caricamento della pagina
      window.addEventListener("DOMContentLoaded", () => {
        const lastMenuLink = menuLinks[menuLinks.length - 1]; // Seleziona l'ultima opzione del menu
        if (lastMenuLink) {
          lastMenuLink.click(); // Simula il clic sull'ultima opzione
        }
      });
    </script>
  </body>
</html>
